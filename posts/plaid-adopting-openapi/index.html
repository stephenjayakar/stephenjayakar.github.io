<!doctype html><html lang=en data-theme=dark><head><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script></head><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload as=font type=font/woff2 href=/fonts/roboto-slab-latin-400.woff2 crossorigin=anonymous><link rel=preload as=font type=font/woff2 href=/fonts/roboto-slab-latin-700.woff2 crossorigin=anonymous><link rel=preload as=font type=font/woff2 href=/fonts/fira-code-latin-300.woff2 crossorigin=anonymous><link rel=preload as=font type=font/woff2 href=/fonts/fira-code-latin-400.woff2 crossorigin=anonymous><link rel=preload as=font type=font/woff2 href=/fonts/fira-code-latin-700.woff2 crossorigin=anonymous><meta name=robots content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Adopting the OpenAPI schema to generate Plaid's SDKs</title>
<meta name=description content="Originally posted on the Plaid Engineering Blog while I was part of Plaid&rsquo;s Developer Experience Team.
The developer experience team focuses on building tools and features that make it as easy as possible for developers to explore our APIs and integrate with Plaid. This year, our team adopted an OpenAPI schema (OAS) as a specification for our API. We launched this schema in beta earlier this year.
Our team is responsible for maintaining three sources of truth for our API that allow developers to build and test their integrations:
"><link rel=canonical href=https://stephenjayakar.github.io/posts/plaid-adopting-openapi/><meta name=twitter:card content="summary"><meta name=twitter:title content="Adopting the OpenAPI schema to generate Plaid's SDKs"><meta name=twitter:description content="Originally posted on the Plaid Engineering Blog while I was part of Plaidâ€™s Developer Experience Team.
The developer experience team focuses on building tools and features that make it as easy as possible for developers to explore our APIs and integrate with Plaid. This year, our team adopted an OpenAPI schema (OAS) as a specification for our API. We launched this schema in beta earlier this year.
Our team is responsible for maintaining three sources of truth for our API that allow developers to build and test their integrations:"><meta property="og:url" content="https://stephenjayakar.github.io/posts/plaid-adopting-openapi/"><meta property="og:site_name" content="Hi, I'm Stephen ðŸ‘‹"><meta property="og:title" content="Adopting the OpenAPI schema to generate Plaid's SDKs"><meta property="og:description" content="Originally posted on the Plaid Engineering Blog while I was part of Plaidâ€™s Developer Experience Team.
The developer experience team focuses on building tools and features that make it as easy as possible for developers to explore our APIs and integrate with Plaid. This year, our team adopted an OpenAPI schema (OAS) as a specification for our API. We launched this schema in beta earlier this year.
Our team is responsible for maintaining three sources of truth for our API that allow developers to build and test their integrations:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-15T13:03:41-07:00"><meta property="article:modified_time" content="2021-09-15T13:03:41-07:00"><meta property="article:tag" content="Tech"><meta itemprop=name content="Adopting the OpenAPI schema to generate Plaid's SDKs"><meta itemprop=description content="Originally posted on the Plaid Engineering Blog while I was part of Plaidâ€™s Developer Experience Team.
The developer experience team focuses on building tools and features that make it as easy as possible for developers to explore our APIs and integrate with Plaid. This year, our team adopted an OpenAPI schema (OAS) as a specification for our API. We launched this schema in beta earlier this year.
Our team is responsible for maintaining three sources of truth for our API that allow developers to build and test their integrations:"><meta itemprop=datePublished content="2021-09-15T13:03:41-07:00"><meta itemprop=dateModified content="2021-09-15T13:03:41-07:00"><meta itemprop=wordCount content="2015"><meta itemprop=keywords content="Tech"><style>@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:100;src:local("Roboto Slab Thin "),local("Roboto Slab-Thin"),url(/fonts/roboto-slab-latin-100.woff2) format("woff2"),url(/fonts/roboto-slab-latin-100.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:200;src:local("Roboto Slab Extra Light "),local("Roboto Slab-Extra Light"),url(/fonts/roboto-slab-latin-200.woff2) format("woff2"),url(/fonts/roboto-slab-latin-200.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:300;src:local("Roboto Slab Light "),local("Roboto Slab-Light"),url(/fonts/roboto-slab-latin-300.woff2) format("woff2"),url(/fonts/roboto-slab-latin-300.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:400;src:local("Roboto Slab Regular "),local("Roboto Slab-Regular"),url(/fonts/roboto-slab-latin-400.woff2) format("woff2"),url(/fonts/roboto-slab-latin-400.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:500;src:local("Roboto Slab Medium "),local("Roboto Slab-Medium"),url(/fonts/roboto-slab-latin-500.woff2) format("woff2"),url(/fonts/roboto-slab-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:600;src:local("Roboto Slab SemiBold "),local("Roboto Slab-SemiBold"),url(/fonts/roboto-slab-latin-600.woff2) format("woff2"),url(/fonts/roboto-slab-latin-600.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:700;src:local("Roboto Slab Bold "),local("Roboto Slab-Bold"),url(/fonts/roboto-slab-latin-700.woff2) format("woff2"),url(/fonts/roboto-slab-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:800;src:local("Roboto Slab ExtraBold "),local("Roboto Slab-ExtraBold"),url(/fonts/roboto-slab-latin-800.woff2) format("woff2"),url(/fonts/roboto-slab-latin-800.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Slab;font-style:normal;font-weight:900;src:local("Roboto Slab Black "),local("Roboto Slab-Black"),url(/fonts/roboto-slab-latin-900.woff2) format("woff2"),url(/fonts/roboto-slab-latin-900.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:300;src:local("Fira Code Light "),local("Fira Code-Light"),url(/fonts/fira-code-latin-300.woff2) format("woff2"),url(/fonts/fira-code-latin-300.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:400;src:local("Fira Code Regular "),local("Fira Code-Regular"),url(/fonts/fira-code-latin-400.woff2) format("woff2"),url(/fonts/fira-code-latin-400.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:500;src:local("Fira Code Medium "),local("Fira Code-Medium"),url(/fonts/fira-code-latin-500.woff2) format("woff2"),url(/fonts/fira-code-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:600;src:local("Fira Code SemiBold "),local("Fira Code-SemiBold"),url(/fonts/fira-code-latin-600.woff2) format("woff2"),url(/fonts/fira-code-latin-600.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:700;src:local("Fira Code Bold "),local("Fira Code-Bold"),url(/fonts/fira-code-latin-700.woff2) format("woff2"),url(/fonts/fira-code-latin-700.woff) format("woff")}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}

/*! CC BY-SA 3.0 License | https://stackoverflow.com/a/36118384/1154965 */@keyframes blink{50%{opacity:0}to{opacity:1}}

/*! MIT License | github.com/schnerring/hugo-theme-gruvbox */:root[data-theme=light]{--bg:var(--bg0_h);--bg0:#fbf1c7;--bg0_h:#f9f5d7;--bg0_s:#f2e5bc;--bg1:#ebdbb2;--bg2:#d5c4a1;--bg3:#bdae93;--bg4:#a89984;--fg:var(--fg1);--fg0:#282828;--fg1:#3c3836;--fg2:#504945;--fg3:#665c54;--fg4:#7c6f64;--gray1:var(--fg4);--gray2:#928374;--red1:#cc241d;--red2:#9d0006;--green1:#98971a;--green2:#797403;--yellow1:#d79921;--yellow2:#b57614;--blue1:#458588;--blue2:#076678;--purple1:#b16286;--purple2:#8f3f71;--aqua1:#689d6a;--aqua2:#427b58;--orange1:#d65d0e;--orange2:#af3a03}[data-theme=light]:root .light--hidden{display:none}:root[data-theme=dark]{--bg:var(--bg0_h);--bg0:#282828;--bg0_h:#1d2021;--bg0_s:#32302f;--bg1:#3c3836;--bg2:#504945;--bg3:#665c54;--bg4:#7c6f64;--fg:var(--fg1);--fg0:#fbf1c7;--fg1:#ebdbb2;--fg2:#d5c4a1;--fg3:#bdae93;--fg4:#a89984;--gray1:var(--fg4);--gray2:#928374;--red1:#cc241d;--red2:#fb4934;--green1:#98971a;--green2:#b8bb26;--yellow1:#d79921;--yellow2:#fabd2f;--blue1:#458588;--blue2:#83a598;--purple1:#b16286;--purple2:#d3869b;--aqua1:#689d6a;--aqua2:#8ec07c;--orange1:#d65d0e;--orange2:#fe8019}[data-theme=dark]:root .dark--hidden{display:none}:root{--primary:var(--orange1);--primary-alt:var(--orange2);--font-monospace:"Fira Code","Lucida Console",Monaco,monospace;--font-sans-serif:Verdana,Helvetica,sans-serif;--font-serif:"Roboto Slab",Georgia,serif}html{font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);font-size:1rem;scroll-behavior:smooth}body{background:var(--bg);color:var(--fg);line-height:1.675;word-wrap:break-word}strong{letter-spacing:.35px}a{color:inherit;-webkit-text-decoration:none;text-decoration:none}a.link--external:after{content:"\2009â†—"}img{border:2px solid var(--bg1);height:auto;max-width:100%}figure{display:inline-block}figcaption{color:var(--fg3);font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);font-size:.9rem}::-moz-selection{background:var(--bg4);color:var(--fg0)}::selection{background:var(--bg4);color:var(--fg0)}h1,h2,h3{color:var(--fg0);font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);font-weight:300;line-height:1.4}h1 code,h2 code,h3 code{font-size:1em}h2,h3{border-bottom:1px solid var(--bg1)}h1,h2{font-weight:400}h1{font-size:1.875rem}h2{font-size:1.75rem}h3{font-size:1.625rem}@media (min-width:768px){h1{font-size:2.375rem}h2{font-size:2rem}h3{font-size:1.75rem}}hr{background:var(--bg1);border:none;height:1px;margin:3rem auto;width:80%}blockquote,code,pre{border-radius:.2rem;padding:0 .2em}pre code{padding:0}blockquote,code,pre{background:var(--bg1)}code,pre{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace)}code code{background:var(--bg2)}blockquote,pre{padding:1rem}pre{background:var(--bg1)!important;overflow:auto}pre code{background:none}blockquote{border-left:5px solid var(--primary-alt);margin:.5rem 0}blockquote:not(.does-not-exist) code{background:var(--bg2)}blockquote:not(.does-not-exist) p:first-of-type{margin-top:0}blockquote:not(.does-not-exist) p:last-of-type{margin-bottom:0}pre::-webkit-scrollbar{height:.5rem;scrollbar-width:auto}pre::-webkit-scrollbar-track{background:var(--bg2);border-radius:.2rem}pre::-webkit-scrollbar-thumb{background:var(--bg4);border-radius:.2rem}.layout{display:grid;grid-template-areas:"header" "main" "footer";grid-template-rows:auto 1fr auto;height:100vh}main{align-items:start;display:grid;grid-area:main;grid-template-areas:"empty content sidebar";grid-template-columns:1fr minmax(0,650px) 4fr}header{background:var(--bg1);grid-area:header}footer{grid-area:footer}footer,main{margin:.5em 1.1em}.content{grid-area:content}.sidebar{display:none;flex-direction:column;grid-area:sidebar;margin-top:3rem;position:sticky;top:2rem}@media (min-width:992px){.sidebar{display:flex}}header{display:grid;font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);font-size:1.125rem;grid-template-areas:"heading search nav theme-toggle";grid-template-columns:auto auto 1fr auto;padding:.75rem}.logo{color:var(--fg0);display:flex;font-weight:700;grid-area:heading}.logo:hover .logo__cursor{animation:blink 1s infinite;opacity:1}.logo__chevron,.logo__cursor{margin-left:.5rem}.logo__cursor{opacity:0}.logo__text{display:none}@media (min-width:768px){.logo__text{display:block}}.search{display:flex;grid-area:search;margin:0 1rem}#search__text{background:var(--bg2);border:1px solid var(--bg2);border-radius:.2rem;caret-color:var(--fg);color:var(--fg);outline:none;padding:0 .5rem;width:100%}#search__text:hover{border-color:var(--bg3)}#search__text:focus{border-color:var(--bg4)}#search__text::-moz-placeholder{color:var(--fg3)}#search__text::placeholder{color:var(--fg3)}#search__text[type=search]::-webkit-search-cancel-button{-webkit-appearance:none;appearance:none}#search__suggestions{background:var(--bg);border-radius:.2rem;box-shadow:0 .5rem 1rem var(--bg1);font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);left:0;margin-top:2rem;position:absolute;width:95vw;z-index:1000}@media (min-width:768px){.search{position:relative}#search__suggestions{width:60vw}}.search__suggestions--hidden{display:none}.search__suggestion-item{border-bottom:1px dashed var(--bg2);display:grid;grid-template-columns:1fr 2fr}.search__suggestion-item:focus,.search__suggestion-item:focus-visible,.search__suggestion-item:hover{background:var(--bg1);cursor:pointer;outline:none}.search__suggestion-item:last-child{border:none}.search__suggestion-description,.search__suggestion-title{margin:1rem 0;padding:0 1rem}.search__suggestion-title{font-weight:700}.search__suggestion-description{border-left:1px solid var(--bg2)}.search__no-results{padding:.75rem}.theme__toggle{align-items:center;background:none;border:none;color:var(--yellow1);cursor:pointer;display:flex;grid-area:theme-toggle;margin:0 1rem}.theme__toggle:hover{color:var(--yellow2)}.theme__toggle svg{height:28px;width:28px}nav#menu{align-items:center;display:flex;grid-area:nav;justify-content:flex-end}nav#menu .menu__item{color:var(--fg)}nav#menu .menu__item:hover{color:var(--fg3);cursor:pointer}nav#menu ul{list-style:none;margin:0;padding:0}nav#menu ul.menu--horizontal{align-items:center;display:none}nav#menu ul.menu--horizontal li{display:inline-block;margin:0 .75rem}@media (min-width:768px){nav#menu ul.menu--horizontal{display:flex}}nav#menu ul.menu--vertical{background:var(--fg0);bottom:0;margin:0;padding:3rem;position:fixed;right:0;top:0;transform:translate(100%);transition:transform .5s cubic-bezier(.9,0,.1,1);width:50%;z-index:10}nav#menu ul.menu--vertical .menu__item{color:var(--bg1)}nav#menu ul.menu--vertical .menu__item:hover{color:var(--bg4)}nav#menu .menu__burger{display:flex;height:24px;width:24px}nav#menu .menu__burger>*{position:absolute}nav#menu .menu__burger svg{height:inherit;width:inherit;z-index:20}nav#menu .menu__burger input{height:inherit;opacity:0;width:inherit;z-index:30}nav#menu .menu__burger input:checked~ul.menu--vertical{transform:none}nav#menu .menu__burger input:checked~svg{stroke:var(--bg1)}@media (min-width:768px){nav#menu .menu__burger{display:none}}.sidebar{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace);margin-left:auto;margin-right:auto;max-width:350px;padding-left:2.5rem}.sidebar hr{margin:1.5rem auto}.sidebar svg{fill:var(--fg)}.jr-basics__image{background:var(--bg1);border:2px solid var(--bg2)}.jr-basics__summary{color:var(--fg3);font-family:Roboto Slab,Georgia,serif;font-family:var(--font-serif);margin:.75rem 0}.jr-basics__profile a:hover{color:var(--fg3)}.jr-basics__profile a:hover svg{fill:var(--fg3)}.tag-cloud{line-height:1.1;text-align:justify}.tag-cloud__tag:hover{color:var(--fg3)}.content-section,.post{border-bottom:2px dotted var(--bg1);padding:2rem 0}.post figure,.post img:not(figure img){box-sizing:border-box;margin:.5rem 0}.post-content__read-more,.post-header{font-family:Fira Code,Lucida Console,Monaco,monospace;font-family:var(--font-monospace)}.post-content{margin:1.3rem 0}.post-content__read-more{color:var(--primary-alt);margin-top:1.3rem}.post-content a,.post-header a{color:var(--primary-alt)}.post-content a:hover,.post-header a:hover{color:var(--primary)}.post-tags{align-items:center;display:flex;flex-wrap:wrap;gap:.9rem;margin:1rem 0}.post-tag{font-size:.9rem;line-height:1}.post-tag:before{content:"#"}.post-heading__anchor{display:none}h1:hover .post-heading__anchor,h2:hover .post-heading__anchor,h3:hover .post-heading__anchor{display:inline-block}.jr-basics__image,.jr-basics__item,.jr-basics__profile-icon,.jr-basics__profile-item{align-items:center;display:flex}.jr-basics__name{font-size:1.125rem;font-weight:700}.jr-basics__item{flex-direction:column;text-align:center}.jr-basics__item hr{margin:1.5rem auto}.jr-basics__image{border-radius:50%;height:250px;justify-content:center;overflow:hidden;width:250px}.jr-basics__label,.jr-basics__name,.jr-basics__summary{margin-top:.75rem}.jr-basics__profile svg{height:24px;width:24px}.jr-basics__profile,.jr-basics__profile-item{display:flex}.jr-basics__profile-item{display:flex;padding:.2rem}.jr-basics__profile--row{flex-wrap:wrap;justify-content:space-evenly}.jr-basics__profile-icon{padding:0 .75rem}</style><link rel=preload href="/css/non-critical.979fb31ac332b42b6b26763f7263e452271c9d83fa454c048b951eee7c8c74d628fcd72697b3ac484f455f71c091a1d2db913786fe6c795eafab76cd7cbaba99.css" as=style onload='this.onload=null,this.rel="stylesheet"' integrity="sha512-l5+zGsMytCtrJnY/cmPkUiccnYP6RUwEi5Ue7nyMdNYo/Ncml7OsSE9FX3HAkaHS25E3hv5seV6vq3bNfLq6mQ=="><link id=prism-dark rel=preload href=/prism-themes/prism-gruvbox-dark.min.54aecc64074623a4f9898544dcbdab9e804f1560ef0b38f4cf8e10fcaaf72264e798cb407c601aca6ecd833ec4eb93d66535581f18d45ba202cf848b70dbc332.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity="sha512-VK7MZAdGI6T5iYVE3L2rnoBPFWDvCzj0z44Q/Kr3ImTnmMtAfGAaym7Ngz7E65PWZTVYHxjUW6ICz4SLcNvDMg=="><link id=prism-light rel=preload href=/prism-themes/prism-gruvbox-light.min.42a221741efe997fcc94187c39d63c555560678789ac9ca856c74a5f0ddb2aa6c50d38b2ffbecc7a99038cbbd2efa99746e862267f781c559e0cfec10b88a5fc.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity="sha512-QqIhdB7+mX/MlBh8OdY8VVVgZ4eJrJyoVsdKXw3bKqbFDTiy/77MepkDjLvS76mXRuhiJn94HFWeDP7BC4il/A==" disabled><noscript><link rel=stylesheet href=/prism-themes/prism-gruvbox-dark.min.54aecc64074623a4f9898544dcbdab9e804f1560ef0b38f4cf8e10fcaaf72264e798cb407c601aca6ecd833ec4eb93d66535581f18d45ba202cf848b70dbc332.css integrity="sha512-VK7MZAdGI6T5iYVE3L2rnoBPFWDvCzj0z44Q/Kr3ImTnmMtAfGAaym7Ngz7E65PWZTVYHxjUW6ICz4SLcNvDMg=="><link rel=stylesheet href="/css/non-critical.979fb31ac332b42b6b26763f7263e452271c9d83fa454c048b951eee7c8c74d628fcd72697b3ac484f455f71c091a1d2db913786fe6c795eafab76cd7cbaba99.css" integrity="sha512-l5+zGsMytCtrJnY/cmPkUiccnYP6RUwEi5Ue7nyMdNYo/Ncml7OsSE9FX3HAkaHS25E3hv5seV6vq3bNfLq6mQ=="></noscript><script>(()=>{function n(){if(localStorage&&localStorage.getItem("theme"))return localStorage.getItem("theme");if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}function e(e){document.documentElement.setAttribute("data-theme",e);let t=document.getElementById("prism-dark"),n=document.getElementById("prism-light");t.toggleAttribute("disabled",e==="light"),n.toggleAttribute("disabled",e==="dark"),localStorage.setItem("theme",e)}var t=n();t&&e(t);function s(t){let n=t.currentTarget.classList.contains("light--hidden")?"light":"dark";e(n)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".theme__toggle").forEach(e=>{e.addEventListener("click",s)})})})()</script><link rel=apple-touch-icon sizes=120x120 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></head><body><div class=layout><header><a class=logo href=/><div class=logo__text>stephenjayakar.com</div><div class=logo__chevron>></div><div class=logo__cursor>â–ˆ</div></a><div class=search><input id=search__text type=search placeholder=Search... aria-label=Search autocomplete=off><div id=search__suggestions class=search__suggestions--hidden></div></div><nav id=menu><ul class=menu--horizontal><li class=menu__item><a href=/about>About</a></li></ul><div class=menu__burger><input class=menu__item type=checkbox aria-label="Open main menu"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg><ul class=menu--vertical><li><a class=menu__item href=/about>About</a></li></ul></div></nav><button class="theme__toggle light--hidden" aria-label="Toggle light mode">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg>
</button>
<button class="theme__toggle dark--hidden" aria-label="Toggle dark mode"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-moon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg></button></header><main><div class=content><article class=post><div class=post-header><h1>Adopting the OpenAPI schema to generate Plaid&rsquo;s SDKs</h1><div class=post-meta><span>2021-09-15</span><div class=post-tags><a class=post-tag href=https://stephenjayakar.github.io/tags/tech>tech</a></div></div></div><div class=post-content><p><em>Originally posted on the <a href=https://plaid.com/blog/adopting-the-openapi-schema-to-generate-plaids-sdks/ class=link--external target=_blank rel=noreferrer>Plaid Engineering Blog</a> while I was part of Plaid&rsquo;s Developer Experience Team</em>.</p><p>The developer experience team focuses on building tools and features that make it as easy as possible for developers to explore our APIs and integrate with Plaid. This year, our team adopted an OpenAPI schema (OAS) as a specification for our API. We launched this schema in beta earlier this year.</p><p>Our team is responsible for maintaining three sources of truth for our API that allow developers to build and test their integrations:</p><ul><li>the docs</li><li>our language SDKs, which we call the CLibs (Client Libraries)</li><li>the actual API :)</li></ul><p>Over time, we realized keeping all three of these developer-facing surface areas updated and synchronized can be a challenge as our API evolved. Ideally, we wanted one source of truth for our API in order to enforce a consistent experience for external developers, which is why we decided to use an OpenAPI schema as a point of reference to generate the docs, the client libraries, and part of our API.</p><p>We learned some valuable lessons along the way that we wanted to document and share so that other teams taking on similar projects could benefit. In this article, I&rsquo;m going to walk through how we decided to use the OpenAPI schema at a company with an existing API that we are continuously iterating on, challenges we encountered, and how we overcame them.</p><h1 id=philosophy>Philosophy<a href=#philosophy class=post-heading__anchor aria-hidden=true>#</a></h1><p>When we first started generating our SDKs, the bulk of the issues we ran into initially were around making sure our OpenAPI schema was an accurate representation of our API. However, after we resolved most of these issues, we started running into another class of problems &ndash; issues with the generated output of the libraries. For dealing with these issues, there were a couple of things we could modify to improve the generated output:</p><ul><li><strong>The actual Plaid API implementation</strong></li><li><strong>OpenAPI schema</strong>: sometimes we could use different methods of representing the API within OpenAPI. Also, some features of the OpenAPI version we used weren&rsquo;t fully implemented by all the code generators &ndash; we would abstain from using these features.</li><li><strong>The actual generator implementation</strong>: The project that we ended up using for code generation is <a href=https://github.com/OpenAPITools/openapi-generator class=link--external target=_blank rel=noreferrer>OpenAPI Tool&rsquo;s generator</a>. Each code generator is implemented in Java. We could fork the generator and modify this implementation to fit our needs.</li><li><strong>Templates</strong>: The code generators use <a href=https://mustache.github.io/ class=link--external target=_blank rel=noreferrer>mustache</a> templates for each language. While we couldn&rsquo;t completely change the output code by modifying templates, we could easily add helper methods or slightly change patterns.</li><li><strong>Generator parameters</strong>: the generator we used had a long list of parameters you can configure, such as <code>packageName</code>, <code>version</code>, and others. Some of these parameters can drastically affect code output.</li><li><strong>Pre-processing or post-processing the schema or code</strong>. For example, we could use scripts to insert in new files like a README.md or modify import paths with a find-and-replace.</li></ul><p>We wanted to see how feasible modifying the OpenAPI Tools generator was to fit our purposes. We embarked on a short project to try to match our existing plaid-python library through generation by making sweeping adjustments to the Java implementation. We found that our changes were all pretty brittle as matching the questionable patterns in the old plaid-python library was difficult and arbitrary. For example, some endpoints were ordered by product, so <code>/transactions/get</code> would be <code>client.Transactions.get(...)</code>. This requirement was enforced inconsistently at times; for example, <code>/accounts/balance/get</code>&rsquo;s method signature was <code>client.Balance.get</code>. This made it difficult to generate code that fit the existing library perfectly. Matching parameter ordering was also near to impossible without a ton of one-off generator edits.</p><p>Finally, we had a latent desire to not commit Java code at Plaid as we mostly don&rsquo;t use Java internally. <strong>This resulted in us ruling out any generator implementation changes</strong>. Another added bonus of not modifying the generator is that other developers outside of Plaid can generate a working library without using our forked generator!</p><p>Template changes were frustrating in general, as we had to have some idea about the generator implementation to modify them. Luckily, our small project with the generator implementation helped us out when making template changes.</p><p>This exploration helped us stack rank which changes to try first. We came up with something like this:</p><pre tabindex=0><code>generator parameters &gt; OAS &gt; templates &gt; any type of processing on the OAS or output code &gt; the Plaid API
</code></pre><h1 id=header-secrets--post-secrets>Header secrets / POST secrets<a href=#header-secrets--post-secrets class=post-heading__anchor aria-hidden=true>#</a></h1><p>Usually APIs have some form of authentication. Plaid&rsquo;s endpoints are a little unique in the following way:</p><ul><li>Every endpoint is an <code>HTTP POST</code> with a JSON attached.</li><li>For authenticated endpoints, the JSON requestBody has <code>client_id</code> and <code>secret</code> attached as parameters.</li></ul><p>While this is a reasonable way to authenticate endpoints, it isn&rsquo;t a pattern that OpenAPI supports out-of-the-box. OpenAPI supports BasicAuth and header keys, as well as some other forms of authentication. In old versions of the OpenAPI schema, we ended up having <code>client_id</code> and <code>secret</code> as required parameters in every requestBody. While this was correct and worked, when we generated the library, it made it so calling any endpoint required you to pass in the authentication again.</p><p><strong>old not generated library</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>TransactionsGet(params<span style=color:#f92672>...</span>)
</span></span></code></pre></div><p><strong>default output of generator</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>TransactionsGet(client_id, secret, params<span style=color:#f92672>...</span>)
</span></span></code></pre></div><p>This would have made using our library pretty frustrating as developers would have to wire their Plaid <code>client_id</code> and <code>secret</code> throughout their application and pass it into every endpoint call.</p><p>As engineers, we disliked the unnecessary complexity, so we considered two options:</p><ol><li>Try to modify the generator to attach authentication on the right endpoints</li><li>Modify our API and OAS to match an OpenAPI authentication schema</li></ol><p>Since we were opposed to modifying the generator, we decided to adopt an OpenAPI authentication schema. We discovered that some routes in the past supported header-based authentication where the <code>client_id</code> and <code>secret</code> were sent in the headers under the keys <code>PLAID-CLIENT-ID</code> and <code>PLAID-SECRET</code>. We decided to adopt this standard. However, <strong>we didn&rsquo;t want to cause a breaking change to our API</strong> by fully migrating to this new pattern. It was important to us that our old libraries were still compatible with the API! So we devised the following solution for every client-facing route: accept authentication either in the headers OR in the request body.</p><p>We modified every route to have this new authentication and also marked <code>client_id</code> and <code>secret</code> as optional in the requestBody. This allowed us to have a similar pattern to the old client libraries where authentication is passed in automatically, as OpenAPI supports this type of authentication. The library ended up attaching the authentication in the headers for the correct endpoints. Yay!</p><p><strong>Additive changes don&rsquo;t break JSON (<code>additionalProperties</code>)</strong></p><p>At Plaid, we&rsquo;ve always treated <strong>additive changes to endpoints as non-breaking</strong>. This allows us to rapidly ship new functionality and features without forcing developers through API migrations.</p><p>Imagine an endpoint that officially returned named parameters <code>(x, y)</code>, but one day, the endpoint starts returning <code>(x, y, z)</code>: this is consistent with JSON Schema and is ok. It is also valid according to the <a href=https://swagger.io/specification/ class=link--external target=_blank rel=noreferrer>OpenAPI specification</a>, which states &ldquo;<code>additionalProperties</code> defaults to true&rdquo; for objects, describing this behavior.</p><p>In our old client libraries, we generally handled additional parameters returning from the API gracefully and just dropped them. However, most of the generators either assumed <code>additionalProperties</code> was false by default and/or did not work correctly with it set to true:</p><ul><li>The Python generator assumed <code>additionalProperties</code> was false. Upon receiving a response that had extra parameters, the library crashed on deserialization. This is when we decided to add <code>additionalProperties: true</code> to every response model, as we&rsquo;re ok with over-specifying values in our OpenAPI schema even if they&rsquo;re default.</li><li>The other libraries either dropped values if <code>additionalProperties</code> wasn&rsquo;t set to true, or they&rsquo;d stick it in a map.</li><li>The default output of the Java generator was a mess. Adding <code>additionalProperties</code> <em>at all</em> to any response model caused an inheritance bug where the model extended <code>HashMap</code> but didn&rsquo;t properly implement the interface. The output code didn&rsquo;t compile, and we couldn&rsquo;t really figure out how to fix it through templating. The behavior when not having <code>additionalProperties</code> was just to drop additional values; we were ok with this. We added a pre-processing step to the OpenAPI file to remove all instances of <code>additionalProperties</code> before handing it to the Java generator.</li></ul><p>This particular issue was a headache. If you run into this issue, make sure to check all your languages&rsquo; outputs carefully. We debugged this by picking an endpoint that was easy to call with minimal setup (one example for the Plaid API is <code>/categories/get</code>). We would set <code>additionalProperties</code> to true, and then remove a known parameter from the response model of the endpoint. We then fired up the generated code and saw what happened when the library received an unexpected response parameter &ndash; if it didn&rsquo;t crash, we were in the clear.</p><h1 id=request-and-response-models-inconsistently-implemented>Request and response models inconsistently implemented<a href=#request-and-response-models-inconsistently-implemented class=post-heading__anchor aria-hidden=true>#</a></h1><p>In OpenAPI, you can either define your request and response&rsquo;s schema inline or use a <code>$ref</code> to point to a named model. In the initial revision of the OpenAPI schema, all of our endpoint schemas were defined inline something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>responses</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>object</span>: <span style=color:#ae81ff>...</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>requestBody</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>object</span>: <span style=color:#ae81ff>...</span>
</span></span></code></pre></div><p>We hoped that when generating Python, it would just pick an order for the parameters and output something like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>Endpoint(requiredParams<span style=color:#f92672>...</span>, optionals<span style=color:#f92672>...</span>)
</span></span></code></pre></div><p>Nope. Instead, the generator ended up creating anonymous models called something like inline_model_xx. The endpoint would look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>Endpoint(inline_model_xx(requiredParams<span style=color:#f92672>...</span>, optionals<span style=color:#f92672>...</span>))
</span></span></code></pre></div><p>Not ideal. Some generators flat out didn&rsquo;t work correctly with anonymous objects as well (looking at you, Go). We ended up creating named request and response models for every endpoint. The endpoint TransactionsGet has an associated TransactionsGetRequest and TransactionsGetResponse. The generated code ended up using these names we provided.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>responses</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>$ref</span>: <span style=color:#e6db74>&#34;endpointResponse&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>requestBody</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>$ref</span>: <span style=color:#e6db74>&#34;endpointRequest&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>Endpoint(endpointRequest(requiredParams<span style=color:#f92672>...</span>, optionals<span style=color:#f92672>...</span>))
</span></span></code></pre></div><h1 id=misc-things-we-had-to-template>Misc. things we had to template<a href=#misc-things-we-had-to-template class=post-heading__anchor aria-hidden=true>#</a></h1><p>There were a couple of small quality-of-life changes that we templated in. Aside from helper functions for dealing with the libraries, we also did slightly bigger changes.</p><h2 id=client-library-initialization----environments>Client library initialization &ndash; environments<a href=#client-library-initialization----environments class=post-heading__anchor aria-hidden=true>#</a></h2><p>OpenAPI allows you to define a list of servers that your API supports. Plaid supports three environments â€“ sandbox, development, and production â€“ which all have different URLs. We wanted to support these as constants and allow these constants to be easily inputted as one of the initialization arguments. We had template modifications of this form:</p><pre tabindex=0><code>{{#servers}}
const {{{description}}} = &#34;{{{url}}}&#34;
{{/servers}}
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// which yields code like
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sandbox</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;https://sandbox.plaid.com&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>While this is abusing the description field, we controlled that it was set to something reasonable :).</p><h2 id=version-pinning>Version pinning<a href=#version-pinning class=post-heading__anchor aria-hidden=true>#</a></h2><p>Some of our older client libraries (Node, Python) used to support multiple API versions, because they were thin wrappers over HTTP POST where the responses were basically dictionaries. Now that we are generating the libraries and strongly typing the responses, we only support the latest Plaid API version.</p><p>The way you specify what API version you&rsquo;re using for Plaid is by setting the <code>Plaid-Version</code> header in your requests. So we added in templating to force this value to the latest API version for all libraries.</p><h1 id=conclusion>Conclusion<a href=#conclusion class=post-heading__anchor aria-hidden=true>#</a></h1><p>These were only a couple of the challenges that we ended up dealing with, and we still have many more improvements we could ship. The project shipped successfully to GA for all of our languages the week of 8/16/21. These new libraries are filled with improvements for developers, including but not limited to:</p><ul><li>better adherence to the API and docs.</li><li>some language-specific features, like async support for Node and contexts for Go.</li><li>consistency between languages for method names.</li></ul><p>It was really cool to slowly make these libraries something we&rsquo;d be happy to use ourselves from the default generated outputs. Many of the solutions we came up with during the project focused around cutting the verbosity in using our libraries. If you want to vet the quality of your generated libraries, just try using them! Every time you run into an issue once, your developers who use your SDK will probably run into them 100s of times over.</p><p>Weâ€™re happy to document how we dealt with the many challenges along the way, and hope we can help fellow engineers on a similar journey.</p></div></article></div><div class=sidebar><aside class=bio><div class="jr__item jr-basics__item"><div class=jr-basics__image><img src=https://i.imgur.com/tdPHkqk.png alt="Picture of Stephen Jayakar" width=250 height=250></div><div class=jr-basics__name>Stephen Jayakar</div><div class=jr-basics__label>Software Engineer</div><div class=jr-basics__summary>Software Engineer in San Francisco. Passionate about tech, video games, and writing. Reconciling faith and intellect, exploring the art behind code and systems. Enjoys music, photography, and mixology.</div><div class=jr-basics__location-city>San Francisco</div><hr><div class="jr-basics__profile jr-basics__profile--row"><a href=https://github.com/stephenjayakar target=_blank rel="noreferrer me"><div class=jr-basics__profile-item><div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a><a href=https://x.com/stephenjayakar target=_blank rel="noreferrer me"><div class=jr-basics__profile-item><div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932zM17.61 20.644h2.039L6.486 3.24H4.298z"/></svg></div></div></a><a href=https://www.linkedin.com/in/stephenjayakar target=_blank rel="noreferrer me"><div class=jr-basics__profile-item><div class=jr-basics__profile-icon><svg role="img" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></div></div></a></div></div><hr></aside><aside><div class=tag-cloud><a href=/tags/christianity style=font-size:1.1rem class=tag-cloud__tag>christianity</a>
<a href=/tags/dating style=font-size:.8rem class=tag-cloud__tag>dating</a>
<a href=/tags/meta style=font-size:.8rem class=tag-cloud__tag>meta</a>
<a href=/tags/music style=font-size:.8rem class=tag-cloud__tag>music</a>
<a href=/tags/tech style=font-size:1.9720671786825557rem class=tag-cloud__tag>tech</a></div></aside></div></main><footer><div class=copyright></div></footer><script src=/js/main.4437d6e1fb954a2cec4390d809ac3fe916e66a46545dd7d1798506228297646ecf43fdea4008dbaf7535915163aa506edac9d24646d2032e5edd8d523826fa9d.js integrity="sha512-RDfW4fuVSizsQ5DYCaw/6RbmakZUXdfReYUGIoKXZG7PQ/3qQAjbr3U1kVFjqlBu2snSRkbSAy5e3Y1SOCb6nQ=="></script><script src=/js/flexsearch.1ab5b109bf2ed66903ae10907394415caa12f5c0ee66bc80088ba135ec4a751f62e4961d6a7303b562e4db724392da85945b763b8e1858ea3fd05cc36f9b8156.js integrity="sha512-GrWxCb8u1mkDrhCQc5RBXKoS9cDuZryACIuhNexKdR9i5JYdanMDtWLk23JDktqFlFt2O44YWOo/0FzDb5uBVg=="></script></div></body></html>